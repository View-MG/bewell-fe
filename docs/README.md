# р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М Shopping Cart

README р╕Щр╕╡р╣Йр╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╣Ир╕Щр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ Shopping Cart р╣Вр╕Фр╕вр╣Бр╕Ър╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▓р╕вр╕кр╣Ир╕зр╕Щр╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:

---

## Homepage (page.tsx)

р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Fetch) р╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М `bewellProduct.json` р╣Бр╕ер╣Йр╕зр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓ р╕Юр╕гр╣Йр╕нр╕бр╕Кр╣Ир╕нр╕З Search р╣Бр╕ер╕░р╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕ер╕Зр╕Хр╕░р╕Бр╕гр╣Йр╕▓

**cardMap ** р╕бр╕╡ Type р╣Ар╕Ыр╣Зр╕Щ (Map\<string, DiscountDetail>): р╣Ар╕Бр╣Зр╕Ър╕Др╕╡р╕вр╣Мр╣Ар╕Ыр╣Зр╕Щ `productId` р╣Бр╕ер╕░ detail р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Щр╕▒р╣Йр╕Щр╣Вр╕Фр╕вр╕Ир╕░р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓, р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕З, р╕Кр╕Щр╕┤р╕Фр╕Вр╕нр╕Зр╕кр╣Ир╕зр╕Щр╕ер╕Фр╣Бр╕ер╕░р╕кр╣Ир╕зр╕Щр╕ер╕Ф

  * р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Ф Cart:
    * р╕Цр╣Йр╕▓р╣Гр╕Щ `cardMap` р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡ Product р╕Щр╕▒р╣Йр╕Щ р╕Ир╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ `quantity = 1`
    * р╕Цр╣Йр╕▓р╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з р╕Ир╕░р╣Ар╕Юр╕┤р╣Ир╕бр╕Ир╕│р╕Щр╕зр╕Щ (`+1`)

**Search Bar**: р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╣Йр╕Щр╕лр╕▓р╕Хр╕▓р╕бр╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕лр╕гр╕╖р╕нр╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓
**onCartChange**: callback р╕кр╣Ир╕З `cardMap` р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щр╣Др╕Ыр╕вр╕▒р╕З Component `Order`

---

## ЁЯЫТ Order Component (Order.tsx)

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И**: р╣Бр╕кр╕Фр╕Зр╕лр╕Щр╣Йр╕▓р╕кр╕гр╕╕р╕Ыр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕в:

* р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓
* р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕З
* р╕кр╕Цр╕▓р╕Щр╕░ "р╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З"
* р╕Ыр╕╕р╣Ир╕бр╕ер╕Ъ р╣Бр╕ер╕░р╣Бр╕Бр╣Йр╣Др╕Вр╕Ир╕│р╕Щр╕зр╕Щ/р╕кр╕Цр╕▓р╕Щр╕░р╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З

### Props

* `cartMap: Map<string, DiscountDetail>`
* `onCartChange: (updatedCart: Map<string, DiscountDetail>) => void`

### State

* `items` (Map\<string, DiscountDetail>)
* `sendAfterItems` (Set) р╣Ар╕Бр╣Зр╕Ъ `productId` р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б "р╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З"
* dialog states: р╣Ар╕Ыр╕┤р╕Ф/р╕Ыр╕┤р╕Ф DeleteDialog, SendAfterDialog

### р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╣Ир╕Щр╕лр╕ер╕▒р╕Б

* `useEffect` : р╕Лр╕┤р╕Зр╕Бр╣М `cartMap` р╕Ир╕▓р╕Б props р╣Др╕Ыр╕вр╕▒р╕З local state `items`
* `handleUpdate(productId, updates)` :

  * р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Ир╕│р╕Щр╕зр╕Щ (`quantity`) р╕лр╕гр╕╖р╕нр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╣Ир╕зр╕Щр╕ер╕Ф (`discountType`, `discount`)
  * р╕Цр╣Йр╕▓ `quantity <= 0` р╕Ир╕░р╕ер╕Ър╣Др╕нр╣Ар╕Чр╣Зр╕бр╕Щр╕▒р╣Йр╕Щр╕нр╕нр╕Б
  * р╣Ар╕гр╕╡р╕вр╕Б `onCartChange` р╣Ар╕Юр╕╖р╣Ир╕нр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕вр╕▒р╕З parent

---

## ЁЯз╛ CheckoutBill Component (CheckoutBill.tsx)

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И**: р╕Др╕│р╕Щр╕зр╕Щр╕Ър╕┤р╕ер╕кр╕гр╕╕р╕Ыр╕гр╕▓р╕Др╕▓

### Props

* `items: Map<string, DiscountDetail>`

### р╕Др╕│р╕Щр╕зр╕У

1. **totalPrice** = \sum (price ├Ч quantity)
2. **totalDiscount** = \sum (р╕Др╕│р╕Щр╕зр╕Ур╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Ир╕▓р╕Б `discountType`)
3. **beforeFinalPrice** = totalPrice - totalDiscount
4. **vatPrice** = beforeFinalPrice ├Ч 0.07
5. **finalPrice** = beforeFinalPrice + vatPrice
6. **nextBillAmount** (р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Чр╣Йр╕▓р╕вр╕Ър╕┤р╕е) р╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Чр╣Йр╕▓р╕вр╕Ър╕┤р╕е р╣Бр╕ер╕░р╕Ир╕│р╕Щр╕зр╕Щ
7. **netPrice** = finalPrice - nextBillAmount

р╣Бр╕кр╕Фр╕Зр╕Ьр╕е:

* р╕гр╕▓р╕Др╕▓ р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ
* р╕гр╕зр╕б Vat 7%
* р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Чр╣Йр╕▓р╕вр╕Ър╕┤р╕е (р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М/р╕Ър╕▓р╕Ч + р╕Бр╕гр╕нр╕Бр╕Ир╕│р╕Щр╕зр╕Щ)
* р╣Бр╕ер╕Бр╕Др╕░р╣Бр╕Щр╕Щ (Placeholder р╕┐0)
* р╕гр╕зр╕бр╕гр╕▓р╕Др╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (netPrice)

---

## ЁЯТ│ BuyingProductCard Component (BuyingCard.tsx)

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И**: р╣Бр╕кр╕Фр╕Зр╕лр╕Щр╣Йр╕▓р╕Хр╕▓р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н р╕Юр╕гр╣Йр╕нр╕бр╕Ыр╕гр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╣Бр╕ер╕░р╕кр╣Ир╕зр╕Щр╕ер╕Ф

### Props

* `discountDetail: DiscountDetail` (р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓ + р╕Ир╕│р╕Щр╕зр╕Щ + р╕кр╣Ир╕зр╕Щр╕ер╕Ф)
* `onChange(updates)` callback р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Др╣Ир╕▓р╕Ир╕│р╕Щр╕зр╕Щр╕лр╕гр╕╖р╕нр╕кр╣Ир╕зр╕Щр╕ер╕Ф

### р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З

* р╕гр╕╣р╕Ыр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (`Image`)
* р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓, р╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓
* р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕Др╕▓р╕Хр╣Ир╕нр╕лр╕Щр╣Ир╕зр╕в р╣Бр╕ер╕░ `InputNumber` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╕гр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щ
* Dropdown (`Select`) р╣Ар╕ер╕╖р╕нр╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╣Ир╕зр╕Щр╕ер╕Ф (р╕Ър╕▓р╕Ч/р╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М)
* `InputNumber` р╕Бр╕гр╕нр╕Бр╕Др╣Ир╕▓р╕кр╣Ир╕зр╕Щр╕ер╕Ф

---

## ЁЯО┤ BuyingCardCover Component (BuyingCardCover.tsx)

**р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣И**: р╕лр╣Ир╕нр╕лр╕╕р╣Йр╕б `BuyingProductCard` р╕Юр╕гр╣Йр╕нр╕бр╕Ыр╕╕р╣Ир╕бр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░ "р╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З" р╣Бр╕ер╕░р╕Ыр╕╕р╣Ир╕бр╕ер╕Ъ

### Props

* `children: React.ReactNode` (р╕кр╣Ир╕зр╕Щр╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╣Др╕Юр╣И)
* `status: boolean` (р╕кр╕Цр╕▓р╕Щр╕░р╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З)
* `onUpdate()` р╣Ар╕Ыр╕┤р╕Ф Dialog р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╕Цр╕▓р╕Щр╕░/р╕Ир╕│р╕Щр╕зр╕Щ
* `onDelete()` р╕ер╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓

### р╣Бр╕кр╕Фр╕Зр╕Ьр╕е

* р╕Цр╣Йр╕▓ `status = true`:

  * р╣Др╕нр╕Др╕нр╕Щ Check р╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з
  * р╕Ыр╕╕р╣Ир╕бр╕ер╕Ъ (Trash)
* р╕Цр╣Йр╕▓ `status = false`:

  * р╕Ыр╕╕р╣Ир╕б Edit (р╣Ар╕Ыр╕┤р╕Фр╕кр╣Ир╕Зр╕ар╕▓р╕вр╕лр╕ер╕▒р╕З)
  * р╕Ыр╕╕р╣Ир╕бр╕ер╕Ъ
